{% load static %}
<style>
#public_chat_room_messages::-webkit-scrollbar {
    width: 5px;
    background-color: #F5F5F5;
}
#public_chat_room_messages::-webkit-scrollbar-thumb {
  background-color: #000000;
}
#private_chat_room_messages::-webkit-scrollbar {
    width: 5px;
    background-color: #F5F5F5;
}
#private_chat_room_messages::-webkit-scrollbar-thumb {
  background-color: #000000;
}

.BaseTabsContainer {
    width: 50%;
}

@media (max-width: 991px) {
 .user-chat-wrapper {
        position: relative !important;
        display: block !important;
        margin-top:20px !important;
        width: 100% !important;

    
    }
}
</style>


<div id="main" class="chat">

    {% if not request.user.is_authenticated %}
    <div class="container-fluid">
        <div class="row justify-content-center">
            <script type="text/javascript" data-cfasync="false" async src="https://poweredby.jads.co/js/jads.js"></script>
            <ins id="1031043" data-width="908" data-height="270"></ins>
            <script type="text/javascript" data-cfasync="false" async>(adsbyjuicy = window.adsbyjuicy || []).push({'adzone':1031043});</script>
        </div>
    </div>
    {% endif %}

    <div class="chat_room container-fluid" style="font: 1em UbuntuRegular, Arial, Helvetica, sans-serif;">

        <div class="topSectionWrapper row" style="width: 100%; height: auto; display: block;">
            <div ts="n4" id="" class="col-lg-6 user-chat" style="height: auto; position: relative; overflow: visible; 
       -webkit-tap-highlight-color: transparent; display:inline-block; border-radius: 6px; box-sizing: border-box; font-family: UbuntuRegular, Helvetica, Arial, sans-serif; font-size: 11px;background-color:#6cc6ba;border:2px solid black;padding:2px;">

                <div style="display: block;">


                    {% if request.user.is_authenticated %} 
                        <div class="reportAbuseLink">
                            <button type="button" class="btn btn-link" style="color:black; font-weight:bold" data-toggle="modal" data-paction="ReportAbuse" data-target="#Report_Room_Modal">REPORT ROOM</button>
                        </div>
                    {% endif %}

                    <div class="roomSubject defaultColor" data-testid="room-subject">
                        <span class="RoomSubjectSpan" style="font-weight:bold;">
                            <span>explosion :
                                {% if room_data.Goal == 0 %}
                                    No goal has been set
                                {% else %}
                                    {{room_sesson.Goal_Currrent}} / {{room_data.Goal}}
                                {% endif %}
                            </span>
                        </span>
                    </div>


                    <div class="roomSubjectTooltip roomSubjectToolTipColor" data-testid="room-subject-tooltip" style="width: 500px; font-weight:bold; visibility: hidden;">Goal reached!  Thanks to all tippers! #teen #18 #shy #young #skinny</div>

                </div>


                <div ts="j0" id="TheaterModePlayer" data-listener-count-fullscreenchange="1" style="height: 322.312px; width: 100%; position: relative; overflow: hidden; -webkit-tap-highlight-color: transparent; background-color: rgb(0, 0, 0);border-radius:6px;">

                    <div ts="EQ" class="videoPlayerDiv" style="height: 100%; width: 100%; position: relative; overflow: hidden; -webkit-tap-highlight-color: transparent; background: url({% static './images/bg/cam_notice_bg.jpg' %}) center center / cover rgb(51, 51, 51); left: 0px;">

                        <input style="display:none; border:none; background-color:crimson; box-shadow: 1px 2px 5px rgba(0,0,0,.15);" clase="realButtons" id="startStreaming_button" type="submit" value="Start Making Vibez" onclick="if_not_Streamer()"/>

                        {% include "rooms/include/videoPlayerDiv.html" %}
                    </div>
                </div>

                <div ts="DD" style="position: relative; overflow: hidden; -webkit-tap-highlight-color: transparent; display: block;">
                    
                
                <div class="container p-auto"> {% if room_data.Is_Active %} Online {% else %} Offline {% endif %} </div>


                {% if request.user.is_authenticated %}
                    <div class="container">

                        <div class="row">
                            <div class="col justify-content-center" style="" id="left_buttons_vibez">
                                <div ts="UU" style="background-color:;">
                                    <div style=" height: 90px; width: 130px; background-color:black; padding:6px;border-radius:6px;border:2px solid black; top:8px;" id="text_goal_target2">

                                        <div id="Buy_Vibez_div_1">
                                            <button type="button" data-toggle="modal" data-target="#Buy_Vibez_Modal" class="btn btn-warning" style="font-size: 15px;font-weight: bold;left: 10px;width: 110px;bottom: 35px;color:black;">
                                                Buy Vibez
                                            </button>
                                        </div>

                                        <div style="cursor:pointer;{% if user_data == None or user_data.Vibes < 1 %}cursor:not-allowed {% endif %}">

                                            <button data-bs-toggle="modal" data-bs-target="#sendingVibezModal" class="btn btn-dark" style="font-size: 15px;font-weight: bold;left: 10px;width: 110px;bottom: 1px;">
                                                Send Vibez
                                            </button>
                                        </div>

                                        <div id="Buy_Vibez_div_2">
                                            <a type="button" data-toggle="modal" data-target="#Buy_Vibez_Modal">
                                               
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col" id="left_buttons_Custom" style="display:none;">
                                <div ts="UU">

                                    <div class="" style=" height: 90px; width: 280px; background-color:black;color:#6cc6ba;border-radius:6px; padding:5px;top:8px;" id="text_goal_target2">

                                        <input placeholder="Enter how many Vibez" type="number" id="custom_Vibez" class="form-control" ></input>


                                        <button  class="btn btn-link" style="color:#6cc6ba; font-weight: bold" 
                                        data-toggle="modal" data-target="#Buy_Vibez_Modal">
                                        Get More</button>
                                        
                                        
                                        <div onclick="
                                        {% if request.user.is_authenticated %}
                                        custom_button()
                                        {% else %}
                                        login_first()
                                        {% endif %}"
                                         class="btn btn-dark" style="color:#6cc6ba; position: absolute;font-size: 15px; font-weight: bold; left:30px; width: 110px;bottom: 5px;">
                                            Send Vibez
                                        </div>

                                        <div onclick="cancel_sending_vibez()"
                                         class="btn btn-dark" style="color:#6cc6ba; position: absolute;font-size: 15px; font-weight: bold; left:150px; width: 110px;bottom: 5px;">
                                            Cancel
                                        </div>


                                    </div>
                                </div>
                            </div>

                            <div class="col" Style="border:2px solid black;border-radius:6px;padding:5px; margin-top:5px;margin-bottom:3px;">  

                                <span class="text-dark" style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;line-height: normal;font-family: UbuntuRegular;font-size: 20px;font-weight: normal;left: 20px;max-width: 250px;top: 9px;cursor: regular;">Favorite Patterns</br>
                                    <p class="fs-4 text-dark">These are set to give the best pleasurer</P>
                                </span>

                                <div class="list_tip_btn" Style="background-color:black;border:7px solid black; border-radius:6px;">

                                    <div class="tip_btn" style="background-color:lightcoral;
                                    {% if user_data == None and user_data.Vibez < 10 %}
                                    cursor:not-allowed 
                                    {% endif %}"
                                    {% if user_datas != None or user_datas.Vibez > room_data.Price_MMM_button %}
                                     onclick="confirm_send(number = '{{room_data.Price_MMM_button}}', btn='mmm')"
                                     {% endif %}>

                                        <div>MMM</div>

                                    <lottie-player src="https://lottie.host/441e1aa5-2ddf-40d1-b0ed-b7eacd9c2ded/tG0pVeXDFC.json"  background="transparent"  speed="0.5"  style="height: 20px;"  loop autoplay></lottie-player>

                                        <p style="font-size:10px;">{{room_data.Price_MMM_button}} Vibez</p>

                                    </div>

                                    <div class="tip_btn" style="background-color:lightsalmon; 
                                    {% if user_datas == None or user_datas.Vibez < room_data.Price_OH_button %}
                                    cursor:not-allowed 
                                    {% endif %}" 
                                    {% if user_datas != None or user_datas.Vibez > room_data.Price_OH_button %} 
                                    onclick="confirm_send(number = '{{room_data.Price_OH_button}}', btn='oh')" {% endif %}>

                                        <div>OH</div>

                                        <lottie-player src="https://lottie.host/441e1aa5-2ddf-40d1-b0ed-b7eacd9c2ded/tG0pVeXDFC.json"  background="transparent"  speed="1.5"  style="height: 20px;"  loop autoplay></lottie-player>

                                        <p style="font-size:10px;">{{room_data.Price_OH_button}} Vibez</p>

                                    </div>

                                    <div class="tip_btn" style="background-color: lightgreen;
                                    {% if user_datas == None or user_datas.Vibez < room_data.Price_OHYes_button %}
                                    cursor:not-allowed {% endif %}"  
                                    {% if user_datas != None or user_datas.Vibez > room_data.Price_OHYes_button %} 
                                    onclick="confirm_send(number = '{{room_data.Price_OHYes_button}}', btn='ohyes')" {% endif %}>

                                        <div>OH YES</div>

                                        <lottie-player src="https://lottie.host/441e1aa5-2ddf-40d1-b0ed-b7eacd9c2ded/tG0pVeXDFC.json"  background="transparent"  speed="2.5"  style="height: 20px;"  loop autoplay></lottie-player>

                                        <p style="font-size:10px;">{{room_data.Price_OHYes_button}} Vibez</p>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {% else %}
                <div class="container">
                    <div class="row justify-content-center">
                    <script type="text/javascript" data-cfasync="false" async src="https://poweredby.jads.co/js/jads.js"></script>
                    <ins id="1031041" data-width="468" data-height="72"></ins>
                    <script type="text/javascript" data-cfasync="false" async>(adsbyjuicy = window.adsbyjuicy || []).push({'adzone':1031041});</script>
                    </div>
                </div>
                    {% endif %}

                </div>
            </div>

                
                <div ts="x_" class=" position-absolute d-inline-block user-chat-wrapper user-chat position-relative" id="ChatTabContainer" style="padding:0px; height: 445px; width:49%;  -webkit-tap-highlight-color: transparent; font-family: UbuntuRegular, Helvetica, Arial, sans-serif; border-radius: 6px;  box-sizing: border-box;border:2px solid black;background-color:#6cc6ba;color:#black;margin-left:20px;">

                    <div ts="DD"  id="tab-row" data-paction="Chat" style="position: relative; overflow: hidden; -webkit-tap-highlight-color: transparent; width: 100%; box-sizing: border-box;">

                        <div class="nav nav-tabs" id="nav-tab" role="tablist">
                            
                            <button class="tab nav-link w-25" id="nav-chat-tab" data-bs-toggle="tab" data-bs-target="#nav-chat" type="button" role="tab" aria-controls="nav-chat" style="font-weight:bold;" aria-selected="false">Chat</button>

                            {% if request.user.is_authenticated %}

                            <button class="tab nav-link active w-25" id="nav-interact-tab" data-bs-toggle="tab" data-bs-target="#nav-interact" type="button" role="tab" aria-controls="nav-interact" style="font-weight:bold;" aria-selected="true">Interact</button>


                            <button class="tab nav-link w-25" id="nav-private-chat-tab" data-bs-toggle="tab" data-bs-target="#nav-private-chat" type="button" role="tab" aria-controls="nav-private-chat" style="font-weight:bold;" aria-selected="false">Private Chat</button>

                            {% endif %}
                        </div>
                    </div>

                    <div ts="wZ" style="height: 100%; width: 100%; position: relative; -webkit-tap-highlight-color: transparent; display: inline;">

                        <div class="" style="height:100%;"  id="nav-tabContent">
                            <!-- interact -->

                            {% if request.user.is_authenticated %}

                            <div class="tab-pane fade show active container-fluid" id="nav-interact" role="tabpanel" aria-labelledby="nav-note-tab">

                                {% include "rooms/include/games.html" %}

                            </div>

                            {% endif %}

                            <div class="tab-pane fade" id="nav-chat" role="tabpanel" aria-labelledby="nav-chat-tab">

                                {% if room_data.Public_Chat == True %}

                                    <div id="public_chat_room_messages" style="min-width: 462px; max-height: 404px; overflow: auto; padding-bottom: 25px; padding-right: 8px;">

                                    {% for msg in public_chat %}
                                    {% if msg.User == user %}

                                    <div class="text-muted d-flex justify-content-end">
                                        <small class="public_chat_room_message_username font-weight-bold text-dark fs-2">{{ msg.User }}</small>
                                    </div>

                                    <div class="card card-body py-2 my-1 public_chat_room_message_text mb-4 ml-auto fs-2" style="border-radius: 13px; width: fit-content; background: #000000; color: #ffffff;">

                                        {{ msg.Message }}
                                        
                                    </div>


                                    {% else %}

                                    <div class="text-muted d-flex">
                                        <small class="public_chat_room_message_username font-weight-bold text-dark fs-2">{{ msg.User }}</small>
                                    </div>

                                    <div class="card card-body py-2 my-1 public_chat_room_message_text mb-4 fs-2" style="border-radius: 13px; width: fit-content;">
                                        {{ msg.Message }}
                                    </div>

                                    {% endif %}


                                    {% endfor %}

                                    <!--Display items availed -->

                                    {% for item in availed_items %}
                                    <div class="text-muted d-flex justify-content-end">
                                        <small class="public_chat_room_message_username font-weight-bold text-dark fs-2">{{ item.User }}</small>
                                    </div>

                                    <div class="card card-body py-2 my-1 public_chat_room_message_text mb-4 ml-auto fs-2" style="border-radius: 13px; width: fit-content; background: #000000; color: #ffffff;">

                                        {{ item.Item }}
                                        
                                    </div>
                                    {% endfor %}

                                    <!--Display items availed -->

                                    </div>

                                    {% if request.user.is_authenticated %}

                                    <div class="container-fluid">
                                        <div class="input-group" style="bottom:0px; left: 0px; height:70px; position: absolute;">
                                            <form id="public_chat_room_form" class="d-flex w-100">
                                                <input type="text" class="form-control fs-2" style="height:50px" name="public_chat_room_message_field" required>
                                                <div class="input-group-append">
                                                    <button type="submit" class="btn btn-primary h-75" style="width:50px"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-send-fill" viewBox="0 0 16 16">
                                                        <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z"/>
                                                      </svg></button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                    {% endif %}
                                {% else %}
                                
                                <div class="msg-list-fvm message-list" style="width: 100%; user-select: text; cursor: text; padding-bottom: 4px;">
                                    <h3 style='color:crimson; margin:10px 0 0 10px;'>Sorry {{room_Data.User}} has Chat Off right now</h3>
                                </div>
                                {% endif %}
                            </div>

                            <div class="tab-pane fade" id="nav-private-chat" style="height:100%;"  role="tabpanel" aria-labelledby="nav-private-chat-tab">

                                {% if invite_accepted == True %}

                                <div id="private_chat_room_messages" style="min-width: 462px; max-height: 404px; overflow: auto; padding-bottom: 25px; padding-right: 8px;">

                                    
                                    {% comment %} Message box {% endcomment %}

                                    <div class="container-fluid p-5 mt-5">
                                        <div class="input-group" style="bottom: 0px; height:42px; z-index:1000; position: absolute;  left: 0px;">
                                            
                                                <input type="text" class="form-control fs-2" name="private_chat_room_message_field" style="width:70px" required="">
                                                <div class="input-group-append">
                                                    <button type="button" onclick="send_private_message()" class="btn btn-primary" style="width:70px"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-send-fill" viewBox="0 0 16 16">
                                                        <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z"/>
                                                      </svg></button>
                                                </div>
                                        
                                        </div>
                                    </div>


                                    </div>
                                
                                {% else %}
               

                          
                                {% if private_chat_invite and invite_accepted == False %}
                                
                                <div id="please-wait-for-user-to-accept-your-invite-container" class="msg-list-wrapper-split" data-listener-count-scroll="1" style="box-sizing: border-box; overflow: auto; margin: 0px auto 5px; padding: 5px; height: 365px; line-height: 16pt;">
                                    <div class="notice-list-fvm" style="width: 100%; user-select: text; cursor: text;"></div>
                                    <div class="msg-list-fvm message-list" style="width: 100%; user-select: text; cursor: text; padding-bottom: 4px;">
                                        <h2>Please wait for {{room_data.User}} to accept your request</h2>
                                    </div>
                                </div>
  
                                {% else %}

                                <div id="invite_model_chat" class="row justify-content-center align-content-center h-75">
                                
                                
                                <span class="fs-2 font-weight-bold m-auto text-center my-3">Private Chat Price: {{room_data.Private_Chat_Price}}</span>
                                <button class="btn btn-warning font-weight-bold display-3" onclick="invite_model_chat({{room_data.User.id}})" id="" style="width:150px; font-size:1rem; height:50px; left: 0px;">
                                    <span class="fs-3">Invite</span>
                                </button>
                                </div>

                                <div id="pending_invitation_chat" class="col" style="display:none">
                                    <h3 class="fs-1">Please wait for {{room_data.User}} to accept your request</h3>
                                </div>

                                 {% endif %}

                                {% endif %}
                        </div>

                        


                        <div class="tab-pane fade" id="nav-connect-my-toy" role="tabpanel" aria-labelledby="nav-connect-my-toy-tab">

                            <div class="msg-list-wrapper-split" data-listener-count-scroll="1" style="box-sizing: border-box; overflow: auto; margin: 0px auto 5px; padding: 5px; height: 365px; line-height: 16pt;">

                                <div class="notice-list-fvm" style="width: 100%; user-select: text; cursor: text;"></div>

                                <div class="msg-list-fvm message-list" style="width: 100%; user-select: text; cursor: text; padding-bottom: 4px;">

                                    <center>
                                        <div id="start-vibes">

                                        <h2 class="mt-3">

                                        <a> Price is {{room_Data.Price_share_vibes}} vibez per minute. </a>

                                        </h2>

                                            <span>
                                                <button class="btn btn-success mt-2" onclick="lovense_viewer()" id="start">
                                                    Start
                                                </button>
                                            </span>
                                            <br>

                                        </div>

                                        <div id="wrapper_connect_viewer" class="container" style="display: none">

                                            <h3 class="mt-2 mb-3">Scan the QR code with your lovense app</h3>
                                            <img src="" id="qrcode_viewer"><br><br>
                                            <button class="btn btn-danger" onclick="stop_lovense_viewer">Stop</button>

                                        </div>

                                    </center>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            
        </div>
    </div>
</div>

<div ts="Zv" data-listener-count-mousedown="1" data-listener-count-touchmove="1" class="resizeHandle" style="height: 425.312px; width: 8px; position: absolute; overflow: hidden; -webkit-tap-highlight-color: transparent; display: inline-block; box-sizing: border-box; cursor: ew-resize;">

</div>


<!--ADS-->
{% if not request.user.is_authenticated %}

<div class="container-fluid">
    <div class="row justify-content-center align-content-center">
        <script type="text/javascript" data-cfasync="false" async src="https://poweredby.jads.co/js/jads.js"></script>
        <ins id="1031045" data-width="728" data-height="102"></ins>
        <script type="text/javascript" data-cfasync="false" async>(adsbyjuicy = window.adsbyjuicy || []).push({'adzone':1031045});</script>
    </div>

{% endif %}

<div ts="x_" class="BaseTabsContainer" id="BottomBoxContainer" style=" width: 98.5%; -webkit-tap-highlight-color: transparent; display: inline-block; font-family: UbuntuRegular, Helvetica, Arial, sans-serif; border-radius: 4px 4px 2px 2px; margin: 10px 0px 0px 10px; box-sizing: border-box;">

    <div ts="DD" data-paction="Chat" style="position: relative; overflow: hidden; -webkit-tap-highlight-color: transparent; width: 100%; box-sizing: border-box;">

        <div class="nav nav-tabs" id="bottom-box-tab" role="tablist">

            <button class="tab nav-link active" id="nav-bio-tab" data-bs-toggle="tab" data-bs-target="#nav-bio" type="button" role="tab" aria-controls="nav-bio" aria-selected="false">Bio</button>

            <button class="tab nav-link" id="nav-room-rules-tab" data-bs-toggle="tab" data-bs-target="#nav-room-rules" type="button" role="tab" aria-controls="nav-room-rules" aria-selected="false">Room Rules</button>



            {% if request.user.is_authenticated %}
            <button class="tab nav-link" id="nav-following-tab" data-bs-toggle="tab" data-bs-target="#nav-following" type="button" role="tab" aria-controls="nav-following" aria-selected="false">Following</button>

            <button class="tab nav-link" id="nav-userside-lovense-tab" data-bs-toggle="tab" data-bs-target="#nav-userside-lovense" type="button" role="tab" aria-controls="nav-userside-lovense" aria-selected="false">Lovense Toy</button>

            <div class="pull-right">

                <div id="Thumb_button" class="followButton score-like" >
                    {% if thumbs_up_color is True %}

                        <span onclick="Thumb_Up()" stlye="cursor:none;">
                            <span id="thumb_number">{{thumbs_up_count}}</span>
                            <i class="icon fa fa-thumbs-up thumb" style="color:green;"></i>
                        </span>

                    {% else %}

                        <span onclick="Thumb_Up()">
                            <span id="thumb_number">{{thumbs_up_count}}</span>
                            <i class="icon fa fa-thumbs-up thumb"></i>
                        </span>

                    {% endif %}

                    {% if thumbs_Down_color is True %}

                        <span class="ml-4" onclick="Thumb_Down()" stlye="cursor:none;">
                            <span id="thumb_down_number">{{thumbs_down_count}}</span>
                            <i class="icon fa fa-thumbs-down thumb" style="color:red;"></i>
                        </span>

                    {% else %}

                        <span class="ml-4" onclick="Thumb_Down()">
                            <span id="thumb_down_number">{{thumbs_down_count}}</span>
                            <i class="icon fa fa-thumbs-down thumb"></i>
                        </span>

                    {% endif %}

                </div>
              
                <button class="followButton btn btn-warning" id="follow-button" onclick="follow()">
                    <div id="follow">
                        <span>
                                {% if follow_button is True %}

                                Following

                                {% else %}

                                + Follow

                                {% endif %}
                        </span>
                    </div>
                </button>

            </div>

            {% else %}

            <div class="pull-right">
                <a href="{% url 'Registration' %}"><p class="h-2">Sign up now and enjoy the vibez!</p></a>
            </div>

            {% endif %}
        </div>
    </div>

    <div class="container-fluid" style="">

        <div ts="wZ" style=" position: relative; -webkit-tap-highlight-color: transparent; display: block;">

            <div class="tab-content" id="nav-tabContent2">
                <div class="tab-pane fade show active" id="nav-bio" role="tabpanel" aria-labelledby="nav-bio-tab">
                    <div class="msg-list-fvm message-list" style="width: 100%; user-select: text; cursor: text; padding-bottom: 4px;">

                        <h2>{{room_data.User}}'s Bio</h2>

                        <table id="bio">
                            <tr>
                                <td>Real Name: </td>
                                <td>{{broadcaster_data.Real_Name|default_if_none:""}}</td>
                            </tr>
                            <tr>
                                <td>Age: </td>
                                <td>{{broadcaster_data.Age|default_if_none:""}}</td>
                            </tr>


                            <tr>
                                <td>I am: </td>
                                <td>{{broadcaster_data.I_Am|default_if_none:""}}</td>
                            </tr>
                            <tr>
                                <td>Interested: </td>
                                <td> {{broadcaster_data.Interested_In|default_if_none:""}}</td>
                            </tr>
                            <tr>
                                <td>Location: </td>
                                <td>{{broadcaster_data.Location|default_if_none:""}}</td>
                            </tr>
                            <tr>
                                <td>Language: </td>
                                <td>{{broadcaster_data.Language|default_if_none:""}}</td>
                            </tr>
                            <tr>
                                <td>Body type: </td>
                                <td>{{broadcaster_data.Body_Type|default_if_none:""}}</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="tab-pane fade" id="nav-room-rules" role="tabpanel" aria-labelledby="nav-room-rules-tab">
                    <div class="msg-list-wrapper-split" data-listener-count-scroll="1" style="box-sizing: border-box; overflow: auto; margin: 0px auto 5px; padding: 5px; height: 365px; line-height: 16pt;">
                        <h2>{{room_data.User}}'s Room Rules</h2>
                        <p>{{ room_data.Room_Rules|linebreaks }}</p>
                    </div>
                </div>


                <div class="tab-pane fade" id="nav-userside-lovense" role="tabpanel" aria-labelledby="nav-room-rules-tab">
                    {% include "rooms/include/user_side_lovensetoy.html" %}
                </div>

                <div class="tab-pane fade" id="nav-following" role="tabpanel" aria-labelledby="nav-following-tab">
                    
                    <div class="msg-list-wrapper-split" data-listener-count-scroll="1" style="box-sizing: border-box; overflow: auto; margin: 0px auto 5px; padding: 5px; height: 365px; line-height: 16pt;">

                        <div class="notice-list-fvm" style="width: 100%; user-select: text; cursor: text;"></div>

                        <h1>Following:</h1>

                        <div id="Followers_box_refesh"class="msg-list-fvm message-list d-flex justify-content-center" style="width: 100%; user-select: text; cursor: text; padding-bottom: 4px;">

                            <div class="col-12 text-center justify-content-center">

                                <div class="row justify-content-center">
                                    {% for follower in follows %}
                                    {% for broadcaster in room_users_data %}

                                    {% if follower.Broadcaster.id == broadcaster.User.id %}


                                    <a href="{{broadcaster.User.username}}" class="d-flex m-4 col-lg-3" style="text-decoration: none; margin: 0.1rem">
                                        <!-- Card -->
    
                                                <div class="card flex-grow-1">
                                                    <img src="{{broadcaster.Image.url}}" class="img-fluid" style="width: 200px; height:150px; object-fit:cover" alt="">   
                                                    <div class="card-title p-5">
                                                        <span style="font-weight:700; font-size: 20px; color:#1db9a7;">
                                                            {{broadcaster.User.username}}
                                                        </span>
                                                        <span class="text-dark" style="float: right; font-weight:700;">200 <i class="icofont-eye-alt"></i></span>
                                                    </div>
                                                    <p class="p-2">Lorem ipsum dolor sit amet.</p>
                                    
                                                </div>
                                            
                                            
                                    </a>
                                    
                                    {% endif %}
                                    {% endfor %}
                                    {% endfor %}
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="tab-pane fade city" id="settings_id" role="tabpanel" aria-labelledby="settings_id-tab">

                    <div class="msg-list-wrapper-split" data-listener-count-scroll="1" style="box-sizing: border-box; overflow: auto; margin: 0px auto 5px; padding: 5px; height: 365px; line-height: 16pt;">

                        <div class="d-flex align-items-start">

                            <div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                                
                                <button class="nav-link active" id="v-pills-profile-tab" data-bs-toggle="pill" data-bs-target="#v-pills-profile" type="button" role="tab" aria-controls="v-pills-profile" aria-selected="false">Profile</button>

                                <button class="nav-link" id="v-pills-messages-tab" data-bs-toggle="pill" data-bs-target="#v-pills-messages" type="button" role="tab" aria-controls="v-pills-messages" aria-selected="false">Messages</button>

                                <button class="nav-link" id="v-pills-vibes-tab" data-bs-toggle="pill" data-bs-target="#v-pills-vibes" type="button" role="tab" aria-controls="v-pills-vibes" aria-selected="false">Vibes</button>

                                <button class="nav-link" id="v-pills-block-countries-tab" data-bs-toggle="pill" data-bs-target="#v-pills-block-countries" type="button" role="tab" aria-controls="v-pills-block-countries" aria-selected="false">Block Countries</button>

                            </div>

                            <div class="tab-content" id="v-pills-tabContent">
                                <div class="tab-pane fade show active" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab">

                                    <input class="realButtons" type="file" name="profile_pic" style="width: 400px!important;height:50px!important;border:none!important">

                                    <p class="text-light">Please Select a Profile Pic</p>

                                    <button type='submit' class="realButtons rounded-pill bg-danger text-light p-3" name='Edit_Profile_settings' value='submit' style="border:none;">Submit</button>

                                </div>

                                <div class="tab-pane fade" id="v-pills-vibes" role="tabpanel" aria-labelledby="v-pills-vibes-tab">
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="Report_Room_Modal" tabindex="-1" role="dialog" aria-labelledby="Report_Room_Modal_Label" aria-hidden="true">

    <div class="modal-dialog" role="document">
        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title fs-2 font-weight-bold" style="color:black;" id="Report_Room_Modal_Label">Report Room</h5>
                <button type="button" id="close_button" class="close" data-dismiss="modal" aria-label="Close">
                    <span class="fs-1" aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <div class="form-group">
                    <label for="exampleInputEmail1">Tell us what is going on</label>
                    <textarea class="form-control" id="Report_message" rows="3"></textarea>
                    <small id="emailHelp" class="form-text text-muted">in a couple of words tell us why you are reporting {{room_data.User}}</small>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal"><span class="fs-2">Cancel</span></button>
                <button type="button" onclick="report_button()" class="btn btn-danger"><span class="fs-2">Report</span></button>
            </div>
        </div>
    </div>
</div>


<!-- Modal for buying vibez -->
<div class="modal fade" style="color:black;" id="Buy_Vibez_Modal" tabindex="-1" role="dialog" aria-labelledby="Buy_Vibez_Modal_Label" aria-hidden="true">

    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">

                <h5 class="modal-title fs-2 font-weight-bold text-center" id="exampleModalLabel">Buy Some Vibez</h5>
                <button type="button" class="close fs-1" data-dismiss="modal" aria-label="Close">
                    <span class="fs-1" aria-hidden="true">&times;</span>
                </button>
            </div>

            <p class="fs-2 text-center m-2">Credit/Debit Card Options </p>
            <p class="fs-2 text-center m-2">(the more Vibez you buy, the less they cost!) </p>

            <div class="modal-body ml-5">

                <div class="form-check">
                    <input class="form-check-input my-3" type="radio" name="VibezRadios" id="option1" value="100">
                    <label class="form-check-label fs-2 my-3" for="exampleRadios1">
                        100 Vibez for $10.99
                    </label>
                </div>

                <div class="form-check">
                    <input class="form-check-input my-3" type="radio" name="VibezRadios" id="option2" value="200">
                    <label class="form-check-label fs-2 my-3" for="exampleRadios2">
                        200 Vibez for $20.99 (5% Bonus)
                    </label>
                </div>

                <div class="form-check">
                    <input class="form-check-input my-3" type="radio" name="VibezRadios" id="option3" value="400">
                    <label class="form-check-label fs-2 my-3" for="exampleRadios1">
                        400 Vibez for $39.99 (10% Bonus)
                    </label>
                </div>

                <div class="form-check">
                    <input class="form-check-input my-3" type="radio" name="VibezRadios" id="option4" value="550"> 
                    <label class="form-check-label fs-2 my-3" for="exampleRadios2">
                        550 Vibez for $49.99 (21% Bonus)
                    </label>
                </div>

                <div class="form-check">
                    <input class="form-check-input my-3" type="radio" name="VibezRadios" id="option5" value="750">
                    <label class="form-check-label fs-2 my-3" for="exampleRadios1">
                        750 Vibez for $62.99 (32% Bonus)
                    </label>
                </div>

                <div class="form-check">
                    <input class="form-check-input my-3" type="radio" name="VibezRadios" id="option6" value="1000">
                    <label class="form-check-label fs-2 my-3" for="exampleRadios2">
                        1000 Vibez for $79.99 (37% Bonus)
                    </label>
                </div>

                <div class="form-check">
                    <input class="form-check-input my-3" type="radio" name="VibezRadios" id="option7" value="1255">
                    <label class="form-check-label fs-2 my-3" for="exampleRadios1">
                        1255 Vibez for $99.99 (38% Bonus)
                    </label>
                </div>

                <div class="form-check">
                    <input class="form-check-input my-3" type="radio" name="VibezRadios" id="option8" value="2025">
                    <label class="form-check-label fs-2 my-3" for="exampleRadios2">
                        2025 Vibez for $159.99 (39% Bonus)
                    </label>
                </div>

                <div class="form-check">
                    <input class="form-check-input my-3" type="radio" name="VibezRadios" id="option9" value="4050">
                    <label class="form-check-label fs-2 my-3" for="exampleRadios2">
                        4050 Vibez for $319.98 (39% Bonus)
                    </label>
                </div>

            </div>

            <div class="row justify-content-center gap-4">

                <!--STANDARD PLAN-->

                {% for subscription in subscriptions %}
                <div class="col-sm-10">
                    <div class="card">
                        <div class="card-body row justify-content-center text-center gap-3">
                            <h5 class="card-title fs-1">{{subscription.Name}} Plan</h5>
                            <p class="card-text">
                                <ul type="none" class="">
                                    <li class="fs-2 my-4"> {{subscription.Slots}} Free slot machine spins </li>
                                    <li class="fs-3"> {{subscription.Vibez}} Vibez </li>
                                </ul>
                            </p>
                            <p class="text-center fs-3">This is a monthly Plan</p>
                            <p class="text-center fs-3">${{subscription.Cost}}</p>
                            <button data-subscription-type="{{subscription.Name}}" class="btn subscription btn-warning fs-2" data-dismiss="modal">Get</button>
                        </div>
                    </div>
                </div>
                {% endfor %}




            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal"><span class="fs-2">Close</span></button>
                <button type="button" onclick="Buy_Vibez()" class="btn btn-warning w-25"><span class="fs-2 ">Buy</span></button>
            </div>

        </div>
    </div>
</div>


<!--MODAL FOR USERS WHO ARE NOT LOGGED IN --> 
<div class="modal fade" id="loginfirst" tabindex="-1" role="dialog" aria-labelledby="loginfirst" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          Please Login or Register first.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">OKAY</button>
          
        </div>
      </div>
    </div>
  </div>



  <!-- Modal for sending vibez -->
<div class="modal fade" id="sendingVibezModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title text-dark fs-2" id="exampleModalLabel"></h5>
          <button type="button" class="btn-close fs-2" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <label for="amount_of_vibez_to_be_sent" class="fs-2 text-dark">Enter amount</label>
            <input class="form-control fs-2" id="amount_of_vibez_to_be_sent" class="my-4" type="number">
            <label for="send_vibez_note" class="fs-2 text-dark mt-4">Add note</label>
          <textarea id="send_vibez_note" class="form-control mt-2 fs-2"> </textarea>
        </div>
        <div class="modal-footer">
          <button type="button" onclick="custom_button()" class="btn btn-dark fs-2 rounded-2" data-bs-dismiss="modal">Send Vibez</button>
        </div>
      </div>
    </div>
  </div>

<input id="users_id" type='number' style="display:none;" value="{{request.user.id}}"></input>
<input id="broadcasters_id" style="display:none;" value="{{room_data.User.id}}"></input>
<input id="rooms_id" style="display:none;" type='number' value="{{room_data.id}}"></input>
<input id="user_username" style="display:none;" value="{{request.user.username}}"></input>
<input id="room_username" style="display:none;" value="{{room_data.User}}"></input>


{% if request.user.is_authenticated %}

<script>
    const room_id = {{room_data.User.id}}
    const room_name = '{{ room_name }}'
    const user_id = {{request.user.id}}
    let user = '{{ user }}'
    let csrf_token = "{{csrf_token}}"
</script>

<script src="{% static 'js/user/broadcaster_user.js' %}"></script>

{% endif %}

<script src="{% static 'js/user_and_broadcaster.js' %}"></script>

{% if invite_accepted == True %}
<script src="{% static 'js/user/private_chat.js' %}"></script>
{% endif %}

